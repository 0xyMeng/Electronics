---
sort: 4
---
# 定时与计数
从这一部分开始介绍接口技术，因此端口的概念放在了这里，然后介绍了三个定时计数的方式，最后重点介绍8253芯片。
## 端口
实际计算机系统除CPU，还有各种扩展部件（如存储器、定时器等）和输入输出接口电路。输入/输出接口电路包括并行接口、串行接口、专用接口等。这些扩展部件和接口电路以芯片形式出现，每个部件（或接口）内都有一组寄存器，称为“端口”，每个端口都有一个端口地址。
端口分为三类：数据端口、状态端口、控制端口。8086系统中，用户可以通过输入输出指令对端口进行操作。
## 定时器/计数器芯片Intel 8253
定时功能实现的三种方法：软件延时、不可编程硬件延时、可编程硬件延时。
Intel 8253特性：3个16位计数器通道；每个计数器6种工作方式；按二进制或十进制（BCD码）减一计数。
编程结构和引脚
  
每个计数器内部都有初值寄存器、减一计数器、输出锁存器。
计数初值存于初值寄存器；CLK每个下降沿计数器减一；可以用GATE信号（电平或上升沿）控制计数器工作。
初始化编程
 
 
编程一般步骤：①写控制字；②写计数初值；③读取计数值。
计数范围：二进制0000H~FFFFH，十进制0~9999。
【例】（8253初始化）设8253地址为70H-73H。使用T0的方式2进行二进制计数，计数初值为100，仅使用低8位，进行初始化编程。
 
【例】（8253读计数值）设8253地址为70H-73H。读取T0当前计数值存储到BX。
 
工作方式
	方式0：计数结束中断
 
	方式1：可编程单稳脉冲
  
	方式2：频率发生器
  
	方式3：方波发生器
  
	方式4：软件触发选通
  
	方式5：硬件触发选通信号
 
不同方式下要注意的点：OUT的变化，GATE的影响。
 

